---
title: Sandboxed Bootstrapping
description: Generate a first flake.nix without any existing flake.
---

## The Bootstrap Command

You can try flake-file bootstrap command without having to
change anything in your flake. 

Just create a temporary directory where to experiment safely.

```shell "bootstrap"
mkdir bootstrap
cd bootstrap
```

You can create a `flake.nix` from scratch — without running inside an existing flake — using a one-shot bootstrap command:

```shell "write-flake" "./flake-file.nix"
# Write a minimal flake-file.nix file (or copy a flake.nix of yours)
echo '{ inputs.flake-file.url = "github:vic/flake-file"; }' > flake-file.nix

# Generate flake.nix or unflake.nix or npins from flake-file.nix
nix-shell https://github.com/vic/flake-file/archive/refs/heads/main.zip \
  -A flake-file.sh --run write-flake --arg modules ./flake-file.nix
```

> <small>See also: all [bootstrap command args](/reference/bootstrap)</small>

Replace `write-flake` with `write-inputs`, `write-unflake`, or `write-npins` to target a different backend.


## Using a modules directory

`bootstrap.nix` can also be a directory. All `.nix` files in it will be auto-imported using [import-tree](https://github.com/vic/import-tree):

```shell "./modules"
nix-shell https://github.com/vic/flake-file/archive/refs/heads/main.zip \
  -A flake-file.sh --run write-flake --arg modules ./modules
```

This is useful when you already have module files and just need the initial `flake.nix` to be generated before Nix can evaluate the flake itself.

## Next Steps

See the [bootstrap command reference](/reference/bootstrap) for more options.